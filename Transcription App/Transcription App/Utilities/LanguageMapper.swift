import Foundation

/// Utility for mapping between language names, codes, and localized names
struct LanguageMapper {
    
    // MARK: - Language Code Mapping
    static let languageCodeMap: [String: String] = [
        "Afrikaans": "af",
        "Albanian": "sq",
        "Amharic": "am",
        "Arabic": "ar",
        "Armenian": "hy",
        "Assamese": "as",
        "Azerbaijani": "az",
        "Bashkir": "ba",
        "Belarusian": "be",
        "Bengali": "bn",
        "Bosnian": "bs",
        "Breton": "br",
        "Bulgarian": "bg",
        "Catalan": "ca",
        "Chinese": "zh",
        "Croatian": "hr",
        "Czech": "cs",
        "Danish": "da",
        "Dutch": "nl",
        "English": "en",
        "Estonian": "et",
        "Faroese": "fo",
        "Finnish": "fi",
        "French": "fr",
        "Galician": "gl",
        "Georgian": "ka",
        "German": "de",
        "Greek": "el",
        "Gujarati": "gu",
        "Haitian Creole": "ht",
        "Hausa": "ha",
        "Hawaiian": "haw",
        "Hebrew": "he",
        "Hindi": "hi",
        "Hungarian": "hu",
        "Icelandic": "is",
        "Indonesian": "id",
        "Italian": "it",
        "Japanese": "ja",
        "Javanese": "jv",
        "Kannada": "kn",
        "Kazakh": "kk",
        "Khmer": "km",
        "Korean": "ko",
        "Lao": "lo",
        "Latin": "la",
        "Latvian": "lv",
        "Lingala": "ln",
        "Lithuanian": "lt",
        "Luxembourgish": "lb",
        "Macedonian": "mk",
        "Malagasy": "mg",
        "Malay": "ms",
        "Malayalam": "ml",
        "Maltese": "mt",
        "MÄori": "mi",
        "Marathi": "mr",
        "Mongolian": "mn",
        "Burmese": "my",
        "Nepali": "ne",
        "Norwegian": "no",
        "Norwegian Nynorsk": "nn",
        "Occitan": "oc",
        "Pashto": "ps",
        "Persian": "fa",
        "Polish": "pl",
        "Portuguese": "pt",
        "Punjabi": "pa",
        "Romanian": "ro",
        "Russian": "ru",
        "Sanskrit": "sa",
        "Serbian": "sr",
        "Shona": "sn",
        "Sindhi": "sd",
        "Sinhala": "si",
        "Slovak": "sk",
        "Slovenian": "sl",
        "Somali": "so",
        "Spanish": "es",
        "Sundanese": "su",
        "Swahili": "sw",
        "Swedish": "sv",
        "Tagalog": "tl",
        "Tajik": "tg",
        "Tamil": "ta",
        "Tatar": "tt",
        "Telugu": "te",
        "Thai": "th",
        "Tibetan": "bo",
        "Turkish": "tr",
        "Turkmen": "tk",
        "Ukrainian": "uk",
        "Urdu": "ur",
        "Uzbek": "uz",
        "Vietnamese": "vi",
        "Welsh": "cy",
        "Yiddish": "yi",
        "Yoruba": "yo",
        "Yue Chinese": "yue"
    ]
    
    // MARK: - Localized Name Mapping
    static let localizedNameMap: [String: String] = [
        "Auto": "Auto",
        "Afrikaans": "Afrikaans",
        "Albanian": "Shqip",
        "Amharic": "áŠ áˆ›áˆ­áŠ›",
        "Arabic": "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
        "Armenian": "Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶",
        "Assamese": "à¦…à¦¸à¦®à§€à¦¯à¦¼à¦¾",
        "Azerbaijani": "AzÉ™rbaycanca",
        "Bashkir": "Ğ‘Ğ°ÑˆÒ¡Ğ¾Ñ€Ñ‚",
        "Belarusian": "Ğ‘ĞµĞ»Ğ°Ñ€ÑƒÑĞºĞ°Ñ",
        "Bengali": "à¦¬à¦¾à¦‚à¦²à¦¾",
        "Bosnian": "Bosanski",
        "Breton": "Brezhoneg",
        "Bulgarian": "Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸",
        "Catalan": "CatalÃ ",
        "Chinese": "ä¸­æ–‡",
        "Croatian": "Hrvatski",
        "Czech": "ÄŒeÅ¡tina",
        "Danish": "Dansk",
        "Dutch": "Nederlands",
        "English": "English",
        "Estonian": "Eesti",
        "Faroese": "FÃ¸royskt",
        "Finnish": "Suomi",
        "French": "FranÃ§ais",
        "Galician": "Galego",
        "Georgian": "áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜",
        "German": "Deutsch",
        "Greek": "Î•Î»Î»Î·Î½Î¹ÎºÎ¬",
        "Gujarati": "àª—à«àªœàª°àª¾àª¤à«€",
        "Haitian Creole": "KreyÃ²l Ayisyen",
        "Hausa": "Hausa",
        "Hawaiian": "Ê»ÅŒlelo HawaiÊ»i",
        "Hebrew": "×¢×‘×¨×™×ª",
        "Hindi": "à¤¹à¤¿à¤¨à¥à¤¦à¥€",
        "Hungarian": "Magyar",
        "Icelandic": "Ãslenska",
        "Indonesian": "Bahasa Indonesia",
        "Italian": "Italiano",
        "Japanese": "æ—¥æœ¬èª",
        "Javanese": "Basa Jawa",
        "Kannada": "à²•à²¨à³à²¨à²¡",
        "Kazakh": "ÒšĞ°Ğ·Ğ°Ò›",
        "Khmer": "ááŸ’á˜áŸ‚áš",
        "Korean": "í•œêµ­ì–´",
        "Lao": "àº¥àº²àº§",
        "Latin": "Latina",
        "Latvian": "LatvieÅ¡u",
        "Lingala": "LingÃ¡la",
        "Lithuanian": "LietuviÅ³",
        "Luxembourgish": "LÃ«tzebuergesch",
        "Macedonian": "ĞœĞ°ĞºĞµĞ´Ğ¾Ğ½ÑĞºĞ¸",
        "Malagasy": "Malagasy",
        "Malay": "Bahasa Melayu",
        "Malayalam": "à´®à´²à´¯à´¾à´³à´‚",
        "Maltese": "Malti",
        "MÄori": "Te Reo MÄori",
        "Marathi": "à¤®à¤°à¤¾à¤ à¥€",
        "Mongolian": "ĞœĞ¾Ğ½Ğ³Ğ¾Ğ»",
        "Burmese": "á€™á€¼á€”á€ºá€™á€¬",
        "Nepali": "à¤¨à¥‡à¤ªà¤¾à¤²à¥€",
        "Norwegian": "Norsk",
        "Norwegian Nynorsk": "Norsk Nynorsk",
        "Occitan": "Occitan",
        "Pashto": "Ù¾ÚšØªÙˆ",
        "Persian": "ÙØ§Ø±Ø³ÛŒ",
        "Polish": "Polski",
        "Portuguese": "PortuguÃªs",
        "Punjabi": "à¨ªà©°à¨œà¨¾à¨¬à©€",
        "Romanian": "RomÃ¢nÄƒ",
        "Russian": "Ğ ÑƒÑÑĞºĞ¸Ğ¹",
        "Sanskrit": "à¤¸à¤‚à¤¸à¥à¤•à¥ƒà¤¤à¤®à¥",
        "Serbian": "Ğ¡Ñ€Ğ¿ÑĞºĞ¸",
        "Shona": "ChiShona",
        "Sindhi": "Ø³Ù†ÚŒÙŠ",
        "Sinhala": "à·ƒà·’à¶‚à·„à¶½",
        "Slovak": "SlovenÄina",
        "Slovenian": "SlovenÅ¡Äina",
        "Somali": "Soomaali",
        "Spanish": "EspaÃ±ol",
        "Sundanese": "Basa Sunda",
        "Swahili": "Kiswahili",
        "Swedish": "Svenska",
        "Tagalog": "Tagalog",
        "Tajik": "Ğ¢Ğ¾Ò·Ğ¸ĞºÓ£",
        "Tamil": "à®¤à®®à®¿à®´à¯",
        "Tatar": "Ğ¢Ğ°Ñ‚Ğ°Ñ€Ñ‡Ğ°",
        "Telugu": "à°¤à±†à°²à±à°—à±",
        "Thai": "à¹„à¸—à¸¢",
        "Tibetan": "à½–à½¼à½‘à¼‹à½¦à¾à½‘à¼‹",
        "Turkish": "TÃ¼rkÃ§e",
        "Turkmen": "TÃ¼rkmen",
        "Ukrainian": "Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°",
        "Urdu": "Ø§Ø±Ø¯Ùˆ",
        "Uzbek": "OÊ»zbekcha",
        "Vietnamese": "Tiáº¿ng Viá»‡t",
        "Welsh": "Cymraeg",
        "Yiddish": "×™×™Ö´×“×™×©",
        "Yoruba": "YorÃ¹bÃ¡",
        "Yue Chinese": "ç²µèª"
    ]
    
    // MARK: - Reverse Mapping (Localized to English)
    static let englishNameMap: [String: String] = {
        var reverseMap: [String: String] = [:]
        for (english, localized) in localizedNameMap {
            reverseMap[localized] = english
        }
        return reverseMap
    }()
    
    // MARK: - All Available Languages
    static let allLanguages: [String] = [
        "Auto", "Afrikaans", "Albanian", "Amharic", "Arabic", "Armenian", "Assamese",
        "Azerbaijani", "Bashkir", "Belarusian", "Bengali", "Bosnian", "Breton",
        "Bulgarian", "Catalan", "Chinese", "Croatian", "Czech", "Danish", "Dutch",
        "English", "Estonian", "Faroese", "Finnish", "French", "Galician", "Georgian",
        "German", "Greek", "Gujarati", "Haitian Creole", "Hausa", "Hawaiian",
        "Hebrew", "Hindi", "Hungarian", "Icelandic", "Indonesian", "Italian",
        "Japanese", "Javanese", "Kannada", "Kazakh", "Khmer", "Korean", "Lao",
        "Latin", "Latvian", "Lingala", "Lithuanian", "Luxembourgish", "Macedonian",
        "Malagasy", "Malay", "Malayalam", "Maltese", "MÄori", "Marathi", "Mongolian",
        "Burmese", "Nepali", "Norwegian", "Norwegian Nynorsk", "Occitan", "Pashto",
        "Persian", "Polish", "Portuguese", "Punjabi", "Romanian", "Russian",
        "Sanskrit", "Serbian", "Shona", "Sindhi", "Sinhala", "Slovak", "Slovenian",
        "Somali", "Spanish", "Sundanese", "Swahili", "Swedish", "Tagalog", "Tajik",
        "Tamil", "Tatar", "Telugu", "Thai", "Tibetan", "Turkish", "Turkmen",
        "Ukrainian", "Urdu", "Uzbek", "Vietnamese", "Welsh", "Yiddish", "Yoruba",
        "Yue Chinese"
    ]
    
    // MARK: - Public Methods
    
    /// Convert language name to WhisperKit language code
    /// Returns nil for "Auto" to enable automatic detection
    static func languageCode(for languageName: String) -> String? {
        if languageName == "Auto" {
            return nil
        }
        return languageCodeMap[languageName]
    }
    
    /// Convert English language name to localized name
    static func localizedName(for englishName: String) -> String {
        return localizedNameMap[englishName] ?? englishName
    }
    
    /// Convert localized language name back to English name
    static func englishName(for localizedName: String) -> String {
        return englishNameMap[localizedName] ?? localizedName
    }

    /// Get flag emoji for a language
    static func flagEmoji(for englishName: String) -> String? {
        let flagMap: [String: String] = [
            "Auto": "ğŸ’¡",
            "Afrikaans": "ğŸ‡¿ğŸ‡¦",
            "Albanian": "ğŸ‡¦ğŸ‡±",
            "Amharic": "ğŸ‡ªğŸ‡¹",
            "Arabic": "ğŸ‡¸ğŸ‡¦",
            "Armenian": "ğŸ‡¦ğŸ‡²",
            "Assamese": "ğŸ‡®ğŸ‡³",
            "Azerbaijani": "ğŸ‡¦ğŸ‡¿",
            "Bashkir": "ğŸ‡·ğŸ‡º",
            "Belarusian": "ğŸ‡§ğŸ‡¾",
            "Bengali": "ğŸ‡§ğŸ‡©",
            "Bosnian": "ğŸ‡§ğŸ‡¦",
            "Breton": "ğŸ‡«ğŸ‡·",
            "Bulgarian": "ğŸ‡§ğŸ‡¬",
            "Catalan": "ğŸ‡ªğŸ‡¸",
            "Chinese": "ğŸ‡¨ğŸ‡³",
            "Croatian": "ğŸ‡­ğŸ‡·",
            "Czech": "ğŸ‡¨ğŸ‡¿",
            "Danish": "ğŸ‡©ğŸ‡°",
            "Dutch": "ğŸ‡³ğŸ‡±",
            "English": "ğŸ‡¬ğŸ‡§",
            "Estonian": "ğŸ‡ªğŸ‡ª",
            "Faroese": "ğŸ‡«ğŸ‡´",
            "Finnish": "ğŸ‡«ğŸ‡®",
            "French": "ğŸ‡«ğŸ‡·",
            "Galician": "ğŸ‡ªğŸ‡¸",
            "Georgian": "ğŸ‡¬ğŸ‡ª",
            "German": "ğŸ‡©ğŸ‡ª",
            "Greek": "ğŸ‡¬ğŸ‡·",
            "Gujarati": "ğŸ‡®ğŸ‡³",
            "Haitian Creole": "ğŸ‡­ğŸ‡¹",
            "Hausa": "ğŸ‡³ğŸ‡¬",
            "Hawaiian": "ğŸ‡ºğŸ‡¸",
            "Hebrew": "ğŸ‡®ğŸ‡±",
            "Hindi": "ğŸ‡®ğŸ‡³",
            "Hungarian": "ğŸ‡­ğŸ‡º",
            "Icelandic": "ğŸ‡®ğŸ‡¸",
            "Indonesian": "ğŸ‡®ğŸ‡©",
            "Italian": "ğŸ‡®ğŸ‡¹",
            "Japanese": "ğŸ‡¯ğŸ‡µ",
            "Javanese": "ğŸ‡®ğŸ‡©",
            "Kannada": "ğŸ‡®ğŸ‡³",
            "Kazakh": "ğŸ‡°ğŸ‡¿",
            "Khmer": "ğŸ‡°ğŸ‡­",
            "Korean": "ğŸ‡°ğŸ‡·",
            "Lao": "ğŸ‡±ğŸ‡¦",
            "Latin": "ğŸ‡»ğŸ‡¦",
            "Latvian": "ğŸ‡±ğŸ‡»",
            "Lingala": "ğŸ‡¨ğŸ‡©",
            "Lithuanian": "ğŸ‡±ğŸ‡¹",
            "Luxembourgish": "ğŸ‡±ğŸ‡º",
            "Macedonian": "ğŸ‡²ğŸ‡°",
            "Malagasy": "ğŸ‡²ğŸ‡¬",
            "Malay": "ğŸ‡²ğŸ‡¾",
            "Malayalam": "ğŸ‡®ğŸ‡³",
            "Maltese": "ğŸ‡²ğŸ‡¹",
            "MÄori": "ğŸ‡³ğŸ‡¿",
            "Marathi": "ğŸ‡®ğŸ‡³",
            "Mongolian": "ğŸ‡²ğŸ‡³",
            "Burmese": "ğŸ‡²ğŸ‡²",
            "Nepali": "ğŸ‡³ğŸ‡µ",
            "Norwegian": "ğŸ‡³ğŸ‡´",
            "Norwegian Nynorsk": "ğŸ‡³ğŸ‡´",
            "Occitan": "ğŸ‡«ğŸ‡·",
            "Pashto": "ğŸ‡¦ğŸ‡«",
            "Persian": "ğŸ‡®ğŸ‡·",
            "Polish": "ğŸ‡µğŸ‡±",
            "Portuguese": "ğŸ‡µğŸ‡¹",
            "Punjabi": "ğŸ‡®ğŸ‡³",
            "Romanian": "ğŸ‡·ğŸ‡´",
            "Russian": "ğŸ‡·ğŸ‡º",
            "Sanskrit": "ğŸ‡®ğŸ‡³",
            "Serbian": "ğŸ‡·ğŸ‡¸",
            "Shona": "ğŸ‡¿ğŸ‡¼",
            "Sindhi": "ğŸ‡µğŸ‡°",
            "Sinhala": "ğŸ‡±ğŸ‡°",
            "Slovak": "ğŸ‡¸ğŸ‡°",
            "Slovenian": "ğŸ‡¸ğŸ‡®",
            "Somali": "ğŸ‡¸ğŸ‡´",
            "Spanish": "ğŸ‡ªğŸ‡¸",
            "Sundanese": "ğŸ‡®ğŸ‡©",
            "Swahili": "ğŸ‡°ğŸ‡ª",
            "Swedish": "ğŸ‡¸ğŸ‡ª",
            "Tagalog": "ğŸ‡µğŸ‡­",
            "Tajik": "ğŸ‡¹ğŸ‡¯",
            "Tamil": "ğŸ‡®ğŸ‡³",
            "Tatar": "ğŸ‡·ğŸ‡º",
            "Telugu": "ğŸ‡®ğŸ‡³",
            "Thai": "ğŸ‡¹ğŸ‡­",
            "Tibetan": "ğŸ”ï¸",
            "Turkish": "ğŸ‡¹ğŸ‡·",
            "Turkmen": "ğŸ‡¹ğŸ‡²",
            "Ukrainian": "ğŸ‡ºğŸ‡¦",
            "Urdu": "ğŸ‡µğŸ‡°",
            "Uzbek": "ğŸ‡ºğŸ‡¿",
            "Vietnamese": "ğŸ‡»ğŸ‡³",
            "Welsh": "ğŸ‡¬ğŸ‡§",
            "Yiddish": "âœ¡ï¸",
            "Yoruba": "ğŸ‡³ğŸ‡¬",
            "Yue Chinese": "ğŸ‡­ğŸ‡°"
        ]
        return flagMap[englishName]
    }
}

